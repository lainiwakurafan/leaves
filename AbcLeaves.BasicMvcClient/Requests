# ya29.GlvwA2ZHnDlhdWl5vBK3xvF8ACocVFnUmlI9avXfyOkXGTHPZ_-R2L5tTewSpp1mHv5ZAfOsPf8aKIOuFz0GQAv5mFd7hkTo0UhjVFpow1QziWgYUSzOrWKwTpt4

# apply a leave

curl -v -H "Content-Type: application/json" -d '{"start":"2017-02-12T21:00:00Z","end":"2017-02-13T21:00:00Z","googleAuthAccessToken":"ya29.GmHvAy7sYeuBY6C7-QqFFgVQuB64Ykj7UZMoVjgl-Dz9Y-XXKO--f5zboyJHdB7wuFy8sulxAZHM9mPLgYpLOaGQ_4_gqVLrWGnXcYfAwcDSO79aLKjMlJcc4YBuKHRhsFwr"}' http://localhost:5000/api/employee/leave

# approve the leave

curl -v -H "Content-Type: application/json" -H "Authorization: Bearer ya29.GmHvAwlgZYO25SThsOjxoYwGv3ESdui32BUXzJvHw3fk920zhKfO9oqts5oT9Xom7GgvunlMRrby2OU-OTrgpJf5WTXaeWaoJYl-6yPBM73eRzer_ICvvqz7WQWX4H-6Gg_c" -X PATCH http://localhost:5000/api/employee/leave/1/approve

# get google auth url

curl -v http://localhost:5000/api/googleauth/url && echo

# create an event
curl -v -X POST -d "" https://www.googleapis.com/calendar/v3/calendars/primary/events

# variations

# insert event response

"{\n \"kind\": \"calendar#event\",\n \"etag\": \"\\\"2973606262243000\\\"\",\n \"id\": \"eh9s72l495281sube7ln4omcno\",\n \"status\": \"confirmed\",\n \"htmlLink\": \"https://www.google.com/calendar/event?eid=ZWg5czcybDQ5NTI4MXN1YmU3bG40b21jbm8gbWVAc2VyZ2V5c29sb3Zldi5jb20\",\n \"created\": \"2017-02-11T08:52:11.000Z\",\n \"updated\": \"2017-02-11T08:52:11.178Z\",\n \"summary\": \"Leaving Work Space Time\",\n \"description\": \"You do not work at this time.\",\n \"creator\": {\n  \"email\": \"me@sergeysolovev.com\",\n  \"displayName\": \"Sergey Solovev\",\n  \"self\": true\n },\n \"organizer\": {\n  \"email\": \"me@sergeysolovev.com\",\n  \"displayName\": \"Sergey Solovev\",\n  \"self\": true\n },\n \"start\": {\n  \"dateTime\": \"2016-02-12T16:00:00Z\"\n },\n \"end\": {\n  \"dateTime\": \"2016-02-13T16:00:00Z\"\n },\n \"iCalUID\": \"eh9s72l495281sube7ln4omcno@google.com\",\n \"sequence\": 0,\n \"hangoutLink\": \"https://plus.google.com/hangouts/_/sergeysolovev.com/me?hceid=bWVAc2VyZ2V5c29sb3Zldi5jb20.eh9s72l495281sube7ln4omcno\",\n \"reminders\": {\n  \"useDefault\": false,\n  \"overrides\": [\n   {\n    \"method\": \"sms\",\n    \"minutes\": 10\n   },\n   {\n    \"method\": \"email\",\n    \"minutes\": 1440\n   }\n  ]\n }\n}\n"

# event request:

"{\"description\":\"Your request has been approved.\",\"summary\":\"ABC Leave of Abscense\",\"end\":{\"dateTime\":\"2017-02-13T16:00:00.000Z\"},\"start\":{\"dateTime\":\"2017-02-12T16:00:00.000Z\"}}"

https://accounts.google.com/o/oauth2/v2/auth?client_id=894287932839-ds2lefpfabmnft7u4udl15r5i49marke.apps.googleusercontent.com&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fsignin-oidc&response_type=code+id_token&scope=openid+profile&response_mode=form_post&nonce=636232935405882770.ODdiZjkxN2UtZDRmYy00OWRmLTg4YjAtZDI1NTIxMDJkMDFkODMxNWE3NmEtNThlOS00YTE3LWJmNmMtNGNlNjQ5ZmQ0ZjY2&state=CfDJ8IZ7FyxYMEpIriyteB3ajcb5se9jqDnBD2fsc1hoef9ABsuHgWlqZLIOnzgY3KupLy4aUQ0gXb5wK3uQooNI2tpMP2WJ3AmIKe2V5Wd9rLH4d3jwytJxCuzdSWHs5uvao_QS_DN9bVUMnqXGpPuEtCJ3QQe8eX8W1lTUVcAm-x21lDU-WZckjOrCvNp_yabw-aKeJqFaLB6k8VrL63zv9lhJdNnd1dgk0YtUOoIzuomSiKj8ci52BaUdHolR0ES2h-iN0wF0H2b2uhdffwRhwmYKYOXbmRKaUOmbzUWlkQ2-DPshxf-loiWhKVvQjFkC_6L0yP9Db9vQvP9oJm6KhZY&from_login=1&as=-21090d2a5cc052c9&authuser=0

http://localhost:5000/mvcclient/google-oauth/code/accept?code=4/ftFnrx09dnLCWB5Et8T3BlhfK2moKk6vKTsCJojUiMM&scope=https://www.googleapis.com/auth/calendar+https://www.googleapis.com/auth/plus.me+https://www.googleapis.com/auth/userinfo.profile+https://www.googleapis.com/auth/userinfo.email+https://www.googleapis.com/auth/gmail.readonly


http://localhost:5000/mvcclient/google-oidc/token

http://localhost:5000/mvcclient/googleapis/grant-access?idToken=eyJhbGciOiJSUzI1NiIsImtpZCI6IjU2MjI2YWVlZTNkMWZiZGFhOTQxNGVlMGFkZjdhZDQ4MTY1MDJiYjEifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJpYXQiOjE0ODg1MjQ1NTYsImV4cCI6MTQ4ODUyODE1NiwiYXRfaGFzaCI6InRqaDhma3V5dHIyLTkwS2xvSkxUU1EiLCJzdWIiOiIxMDE0NjE3NTU4NzQ3OTMzNjI1MjQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibm9uY2UiOiI2MzYyNDEyMTM1NDg1NjkwNDAuWVRFMFpHVTBNV1l0WkdOaVlTMDBOVGsxTFdKbFlUUXRNREk1T1dVMU9HVXlNREpsWmpJMFkyRmxaakl0TjJVeU15MDBOVFU1TFRnM09XSXRPRGRpTkRJMlpUZzNNbVU0IiwiYXVkIjoiODk0Mjg3OTMyODM5LWRzMmxlZnBmYWJtbmZ0N3U0dWRsMTVyNWk0OW1hcmtlLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXpwIjoiODk0Mjg3OTMyODM5LWRzMmxlZnBmYWJtbmZ0N3U0dWRsMTVyNWk0OW1hcmtlLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiaGQiOiJzZXJnZXlzb2xvdmV2LmNvbSIsImVtYWlsIjoibWVAc2VyZ2V5c29sb3Zldi5jb20iLCJuYW1lIjoiU2VyZ2V5IFNvbG92ZXYiLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDUuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1XVkZlbS01M0Mwdy9BQUFBQUFBQUFBSS9BQUFBQUFBQUFEdy9IYU04MjRiNVdmVS9zOTYtYy9waG90by5qcGciLCJnaXZlbl9uYW1lIjoiU2VyZ2V5IiwiZmFtaWx5X25hbWUiOiJTb2xvdmV2IiwibG9jYWxlIjoiZW4tTVkifQ.IsbgOT1cXXKOoTmPKwynOoRjyTkfE7a4pMS8g8QY8ptxvriz_tHF7qZpJHfbVSzaHbdugeeqQtJOFpOZMkrCexvV1BXjnRm2tHTY4stxgdQEK2GkWyvWo4dvnpsMcNjTjq_udHW-PYvRgT4uIlluYLBnD6CtPV05FUvAQ-WKDmjTLZLrKeRQtzmSVkcXizLBCxorYjfSxw5y7ogpbyZSitxZkj0cqrni8Y8k2vFDDep421_4W4arr1BKJVQB3lO86b98Xc5TEzBsNrUC-4EAsITt2ljchC5lkRb24tRTXfGbGonOOD3jBj3BVjZhDIkMUoQd5b4p89r_rcLYiDIkmA


Tasks:
(*) Separate client and server projects


(*) Client: implement api services
(+) Implement admin authorization
(+) Deprecate grant admin access
(+) Leaves controller: API + Client Wrap
(+) All API methods should be wrapped by the client: Register


--
curl -v -L -H "Content-Type: application/json" \
    -H "Cookie: .AspNetCore.GoogleOpenIdConnectCookies=CfDJ8IZ7FyxYMEpIriyteB3ajcafGLIx8LG1gCEfh1aVPTIKN5PZC1xwb_eJMW2_grjzztUoMFYp7Vt2_FymStdRd_w_ELtrT9PTJPdBYOBKzziuAQ0REGiZ-4djxB73oGYNu2hu37wj7R6wfT89rlL_uzDSb2RsslTi-q3RV666n7d0jaap7CY7z7IU1TKucW03TZU9tH9QR-Vtkn3veMFSCo3j-gMfWG_B5Z48jv3_-OaY1fuRIo1SF3FiZ0ZEQ0a2y2VCpQh_DIvUnoO2TAecQqpOYWRZPGcEE5h4S0w4-an4QE7k92dss2m61B8VGLE6gxFccugVuZzF0m2--VK_-SqI1X3nT1tJXy8Dq5SFyAmnA5FupGZm30tEgeLjizIQ_2JoIefokcNVXC1evxOPRVZVIH01H-YL4LV_5QftSGcP7fTTnxHQIf7bglLdzOiZkS-k7zg2UNqm4_neJQkkFBJnKoyI5OKaYqswMpUV2ABuC2O3K5qriwGWqvh0eRUiOab5IYJYKHR6n184u0iFQAgGaG_6iJ9rdlJvCz11pR9lkDzNPfjn5nvITxjtudTrpT2kDNGEyRx30n5AjzEoEhrfoBFjf5qfeqgKViZgvhRJvpCtGJsycD9rG95l61ZO9AJTwYb-GrBAocZX-euVbWGTA_S9msjDWWPoIPeZYX2W99V5-eaz0qoKQY6KdD0HfeUrVrGOOcGJHDn6s9nwnUTwly3th3lqOjAOwKE5GW7wJpSE3E2IR5kp-H5VCya7EfolnwmJ7rLMHEsJS0Iswr7-qBrJ6R28WwwLzP7PgRIu8l65w01CBSm0Nvncr_vd_XGYJpySyRzUWOniD2ekwj4OQ_sppRm04RCAcfmrPOMh-gqeN98qbC1mjob_zxnnM1WB17wog3zpxxpvv6m7iRy14c9N620tBkwc0KMKEt2K1RxrvZKzT6SMrMyGiUeL3aHhZxcNcHzfKPaeyRmgj09ME_8GeTHQ77IjnSMow4PdXcqUrcZTCJ_YnkFYY2OncpvB4MfNYnmsSb2HGI6L08Zq_43aMPjjJNzrZWVIrUC_CVNZgSdY6ctJ7H0DFC3j_r9Ngb3FzEfLsXicsCBCH_SP6XHNUQd25Jw3CNMPPgkIt8DgTFHei8pQfWcd9Y-qOEfwzv68ZkF-5Bbo7BB42a4I8RAd3-RJcmn09QmsTcsGuMLXiuctzuSioMsG50REPNjgIyXCHSszBdP3STJb7ZygJuX9_6W2TTS9-kDegmZm2QtwKGu1Zy9Zeh2quaWes6qq-fnWBVJ9RoNETg-t_dT4JoHLmlqddISl59xVZovMMxpEs-JESOZQjGqFNssEnHIa2yGWUPR8upDhP3ucWnQcxOhF0Hz2OIPNqgcYDVHnYzxlbOmsfstOGjj4qPopW74VMZmyUbq4l_-ViRIHTCB3J1NoGQXfrJ4A-QmFgDKNmPopYuOt3JI57p12gLfOrovnVIHCFoN6D2ncvUS0Q2iEhaX_MgxI0YfqsGN9zGH2ZWLfNL7LCVPkHpdBz488ytiEAn7mcW7DkE7BC7xhwNZ-9TYUiFRPgeOXuYSAeLD9ekVLmrzjXPE1hDQHmVlnV-zFqvbpRmSXxb3hoVxJreK_NKNVuOOxJ1zx5hErQifWcHT2TDBabuoO3TuRYb9bmlVmZIlLYAuw6asItUFGE6iBx9oCba9EpjjYycwBLELQ_lk5XtfYlgNNiyh6tDadq8KR0Q-hoC-q3boTV2vguRsXMvWC82hEAv53cx64r1LAO4PMP0ga_6yFDhZqHXYS7-xQcQHrul0iZjymbIhqIRmL8gMc3lsRBv2Q6LsxM0WAvS4onxbdg7gdTPzPN24eXEAZY65TMSqaY7gJBPoEY8PEpuOXHMWrZQ_0VU3FqI2mHg2LmcuO7xLYS_5Oq-2kQ-uiS09sbuIHL7mEa44HcnBpXxItEceoV0zu-eFlq97zpt5i5hGDfiNjMdmw-fqjdeU7I00N05bOalWhkdzBlruKvti75qgQnPCx5AmrGPkBMBMky6m_8PStBAVxJnQvfwj1tckutPwXNzi-_ZEZMDobEbPOF8TeqzeGi_2JPibQBZwFlXODwiM8VhvFQQ9_nukAl48DdBjcV9YKyAH5ZWzqBlqNXVzC-J5v7PO-7XeIzxiQoaw56Z5p3-V-DPWZ6Ffd8oiI7BblVDlolr_l7CCyQIVjSV9GHi_UGfkCkOUTMTik0ZIZ5M0aLorcQ5iMOah3MqI0HCg5w5VzgfqdWrfJHmFOct84Mw6Fvrrmpzd_x0WjDUG3dZ69mEuehO4PKdlFuWrU2v77diRu0eqHY_zAPMkh9EtnpppCW93qTHoK4ypKs3bVX5FmgOO2hR1EMexoSy52V2P1kpabmHgJ1CCXuYJC_it2ujERZAh4LDLHmOsgXI8fBRRX59ZbAhgXAM2Vv_cWb0LHGGtMeu1QcTn5L1Fpq36cA0aauq-mmH4jIJJJBLD8syk11NgCjWz65rLnd_rbWM2n6hMXhfLJzhG5zXWlfqLQ8Nxe71nca1Pe5FtxEP1oclkvKHeqJ38Vc0HXDim1AeAP5C6OpC2tszjtWoDC1H2Licif7OXmMA88BwWEp_VsXP1wt4-repdPC3eEaLO9j-ZptLk_ZVYsM0hYZ8mSnFMb8Y6E_PrYwvHf1_uEDXgFcCeLxgF4CJ-PM7WbQCyMLnCpeHBRTAQvGsPMBvQxQ4SCQP_3NlMEAAGN_6ToB-AmwLPVbHba7E313b0RZUlckPWuT4U6jOFB1TcTJChWJI3EQYLAWMJe5JiI-Z8tbLzbnb3d4q3mboXzA42Livdb3dfsFpfTSnRM0qdoc62XuGZFNfJtKd1aOQNXDccT2LAb8gXxL6Y0Ncn2gPIFKFT8DVI5eqx8P8sPHvWJou8xEHkipTd_ZqZPh-t-Fd-JFi5BaxYqW24ds80FGjAjyNWdbx0dOfdEl4TUJcwEv3WDp2bY4s0fUTjdfNxlAMtJM0eD0lxzNKZ1pWCylUPhl08MqyOsRIwc7lAO25AxOsrt45Ib3iE-1iPRpX5sCrh4mZNVbRlOyZD22Kbo_dez4jOyNZlD7eAooF2sgwY_D7sABNgYeMJlFPmZqa9KKR2IkmF4JOXCmeknlJvDq1x-VXyj8Bmn3s99Ibm19F-2PHyua6RXqsvXFGJwSyoxDqL4PEDync339zsybKBGZ72FqOpS06Ub9-4-j6r_7AyLdzGURzUrhGF21qORBscMz02-hOB5_KBFHbgw0-ExRg--Pu7aCWg36aOpIsA37iJGPtng53qiHluUHCey4UDCcXbonBKdA5pZ_Fvn1E-66Zu73iCqEcKzRU9V0q0dJt17_JdqaZjyCwz6AYKAYdoX-AZZzM8SgtdiQWPOmJJQF84xCqlZiayGDpHQiQnuyJ3-clLbpRZHoP23PDkAyXrskwlc3JL8cX5oyKus219Gh2sBEqYS95g3maZwiOU68lD64NjRHDFE5JWTPVQ1C0sN" \
    -d '{"start":"2017-03-22T10:00:00Z","end":"2017-03-22T13:00:00Z"}' \
    http://localhost:8081/leaves
